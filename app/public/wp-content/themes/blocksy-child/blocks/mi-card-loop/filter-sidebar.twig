{#
 # Filter Sidebar Template for MI Card Loop Block
 #
 # This template renders the filter sidebar for the MI Card Loop block.
 # It includes filter categories for property type, location, price range,
 # bedrooms/bathrooms, area range, and amenities.
 #}

<div class="mi-filter-sidebar">
    <div class="d-card d-card-compact w-full bg-base-100 shadow-md mb-4">
        <div class="d-card-body">
            <h2 class="d-card-title text-lg">Filter Properties</h2>
            
            {# Property Type Filter #}
            <div class="filter-section mb-4">
                <h3 class="font-medium text-base mb-2">Property Type</h3>
                <div class="d-form-control">
                    {% for type in filter_data.property_types %}
                        <label class="d-label d-cursor-pointer">
                            <div class="flex items-center gap-2">
                                <input type="checkbox" class="d-checkbox d-checkbox-sm" name="property_type[]" value="{{ type.id }}" />
                                <span class="d-label-text">{{ type.name }}</span>
                            </div>
                        </label>
                    {% endfor %}
                </div>
            </div>
            
            {# Location Filter #}
            <div class="filter-section mb-4">
                <h3 class="font-medium text-base mb-2">Location</h3>
                <div class="d-form-control">
                    {% for location in filter_data.locations %}
                        <label class="d-label d-cursor-pointer">
                            <div class="flex items-center gap-2">
                                <input type="checkbox" class="d-checkbox d-checkbox-sm" name="location[]" value="{{ location.id }}" />
                                <span class="d-label-text">{{ location.name }}</span>
                            </div>
                        </label>
                    {% endfor %}
                </div>
            </div>
            
            {# Price Range Filter #}
            <div class="filter-section mb-4">
                <h3 class="font-medium text-base mb-2">Price Range</h3>
                <div class="d-form-control">
                    <div class="flex justify-between mb-1">
                        <span class="text-xs">${{ filter_data.price_range.min|number_format(0, '.', ',') }}</span>
                        <span class="text-xs">${{ filter_data.price_range.max|number_format(0, '.', ',') }}</span>
                    </div>
                    <input 
                        type="range" 
                        min="{{ filter_data.price_range.min }}" 
                        max="{{ filter_data.price_range.max }}" 
                        value="{{ filter_data.price_range.min }}" 
                        class="d-range" 
                        name="price_range"
                    />
                    <div class="mt-2">
                        <span class="text-sm">Selected: $<span id="price-value">{{ filter_data.price_range.min|number_format(0, '.', ',') }}</span></span>
                    </div>
                </div>
            </div>
            
            {# Bedrooms Filter #}
            <div class="filter-section mb-4">
                <h3 class="font-medium text-base mb-2">Bedrooms</h3>
                <div class="d-form-control">
                    <div class="d-join w-full">
                        <button class="d-btn d-join-item d-btn-sm flex-1">Any</button>
                        <button class="d-btn d-join-item d-btn-sm flex-1">1+</button>
                        <button class="d-btn d-join-item d-btn-sm flex-1">2+</button>
                        <button class="d-btn d-join-item d-btn-sm flex-1">3+</button>
                        <button class="d-btn d-join-item d-btn-sm flex-1">4+</button>
                    </div>
                </div>
            </div>
            
            {# Bathrooms Filter #}
            <div class="filter-section mb-4">
                <h3 class="font-medium text-base mb-2">Bathrooms</h3>
                <div class="d-form-control">
                    <div class="d-join w-full">
                        <button class="d-btn d-join-item d-btn-sm flex-1">Any</button>
                        <button class="d-btn d-join-item d-btn-sm flex-1">1+</button>
                        <button class="d-btn d-join-item d-btn-sm flex-1">2+</button>
                        <button class="d-btn d-join-item d-btn-sm flex-1">3+</button>
                        <button class="d-btn d-join-item d-btn-sm flex-1">4+</button>
                    </div>
                </div>
            </div>
            
            {# Area Range Filter #}
            <div class="filter-section mb-4">
                <h3 class="font-medium text-base mb-2">Area (sq ft)</h3>
                <div class="d-form-control">
                    <div class="flex justify-between mb-1">
                        <span class="text-xs">{{ filter_data.area_range.min|number_format(0, '.', ',') }}</span>
                        <span class="text-xs">{{ filter_data.area_range.max|number_format(0, '.', ',') }}</span>
                    </div>
                    <input 
                        type="range" 
                        min="{{ filter_data.area_range.min }}" 
                        max="{{ filter_data.area_range.max }}" 
                        value="{{ filter_data.area_range.min }}" 
                        class="d-range" 
                        name="area_range"
                    />
                    <div class="mt-2">
                        <span class="text-sm">Selected: <span id="area-value">{{ filter_data.area_range.min|number_format(0, '.', ',') }}</span> sq ft</span>
                    </div>
                </div>
            </div>
            
            {# Amenities Filter #}
            <div class="filter-section mb-4">
                <h3 class="font-medium text-base mb-2">Amenities</h3>
                <div class="d-form-control">
                    {% for amenity in filter_data.amenities %}
                        <label class="d-label d-cursor-pointer">
                            <div class="flex items-center gap-2">
                                <input type="checkbox" class="d-checkbox d-checkbox-sm" name="amenity[]" value="{{ amenity.id }}" />
                                <span class="d-label-text">{{ amenity.name }}</span>
                            </div>
                        </label>
                    {% endfor %}
                </div>
            </div>
            
            {# Filter Actions #}
            <div class="filter-actions flex gap-2 mt-4">
                <button class="d-btn d-btn-primary flex-1">Apply Filters</button>
                <button class="d-btn d-btn-outline flex-1">Reset</button>
            </div>
        </div>
    </div>
</div>
